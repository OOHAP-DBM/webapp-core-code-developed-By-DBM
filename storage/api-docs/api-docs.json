{
    "openapi": "3.0.0",
    "info": {
        "title": "OOHApp API",
        "description": "Authentication & Platform APIs for OOHApp",
        "contact": {
            "email": "admin@example.com"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "/api/v1",
            "description": "API v1"
        },
        {
            "url": "docs"
        }
    ],
    "paths": {
        "/auth/register/otp/send": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Send OTP for registration",
                "operationId": "841495db0199ddcb474b45c6d35cc9e4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "identifier"
                                ],
                                "properties": {
                                    "identifier": {
                                        "type": "string",
                                        "example": "test@email.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP sent for registration"
                    }
                }
            }
        },
        "/auth/register/otp/verify": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Verify OTP before registration",
                "operationId": "8f57ef577d8a39098348bdac26ed7f7a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "identifier",
                                    "otp"
                                ],
                                "properties": {
                                    "identifier": {
                                        "type": "string",
                                        "example": "test@email.com"
                                    },
                                    "otp": {
                                        "type": "string",
                                        "example": "1234"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP verified"
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Complete registration after OTP verification",
                "description": "Registers user after OTP verification and issues access token",
                "operationId": "04c4b0e4cb6b695c2b1f1f23c78aa19f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "name",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "email": {
                                        "description": "User email address or phone number used during OTP verification",
                                        "type": "string",
                                        "example": "test@email.com"
                                    },
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "Password@123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "example": "Password@123"
                                    },
                                    "role": {
                                        "description": "Allowed values: customer, vendor. Default is customer",
                                        "type": "string",
                                        "enum": [
                                            "customer",
                                            "vendor"
                                        ],
                                        "example": "customer"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Registration successful"
                    },
                    "403": {
                        "description": "OTP not verified"
                    },
                    "404": {
                        "description": "User not found"
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login with email/phone and password",
                "operationId": "7d76bf62679c67cff7644d1138e8cb9a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "identifier",
                                    "password"
                                ],
                                "properties": {
                                    "identifier": {
                                        "type": "string",
                                        "example": "test@email.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful"
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/auth/otp/send": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Send OTP for login",
                "operationId": "4b7dcdc3c8132972ace00c9b9a165cd4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "identifier"
                                ],
                                "properties": {
                                    "identifier": {
                                        "type": "string",
                                        "example": "+919999999999"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP sent successfully"
                    }
                }
            }
        },
        "/auth/otp/verify": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Verify OTP and login",
                "operationId": "177ce6707bc89f0143824e045b754c46",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "identifier",
                                    "otp"
                                ],
                                "properties": {
                                    "identifier": {
                                        "type": "string",
                                        "example": "+919999999999"
                                    },
                                    "otp": {
                                        "type": "string",
                                        "example": "1234"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP verified successfully"
                    }
                }
            }
        },
        "/auth/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get authenticated user profile",
                "operationId": "c34c5f481db7348779ab282eda3d7b7b",
                "responses": {
                    "200": {
                        "description": "User profile"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout user and revoke token",
                "operationId": "751905b55120e5068637c37b03b5e52d",
                "responses": {
                    "200": {
                        "description": "Logged out successfully"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/refresh": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Refresh API token",
                "operationId": "1e2091a6658de94cf8cba4dbea1b725b",
                "responses": {
                    "200": {
                        "description": "Token refreshed"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/vendor/onboarding/send-otp": {
            "post": {
                "tags": [
                    "Vendor Onboarding"
                ],
                "summary": "Send OTP to vendor phone",
                "operationId": "c9c8c426845b3ff0eec5f1f62f2e4153",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "phone"
                                ],
                                "properties": {
                                    "phone": {
                                        "type": "string",
                                        "example": "9876543210"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP sent successfully"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/vendor/onboarding/verify-phone-otp": {
            "post": {
                "tags": [
                    "Vendor Onboarding"
                ],
                "summary": "Verify vendor phone OTP",
                "operationId": "f6593956683b86c24ac3eeec7e370e7f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "phone",
                                    "otp"
                                ],
                                "properties": {
                                    "phone": {
                                        "type": "string",
                                        "example": "9876543210"
                                    },
                                    "otp": {
                                        "type": "string",
                                        "example": "123456"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Phone verified"
                    },
                    "422": {
                        "description": "Invalid OTP"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/vendor/onboarding/send-email-otp": {
            "post": {
                "tags": [
                    "Vendor Onboarding"
                ],
                "summary": "Send OTP to vendor email",
                "operationId": "d701b4deef646db59681fa153e990921",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "vendor@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP sent"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/vendor/onboarding/verify-email-otp": {
            "post": {
                "tags": [
                    "Vendor Onboarding"
                ],
                "summary": "Verify vendor email OTP",
                "operationId": "7b7a7a8c928ca474dcd19fca5e46e815",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "otp"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "vendor@example.com"
                                    },
                                    "otp": {
                                        "type": "string",
                                        "example": "123456"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Email verified"
                    },
                    "422": {
                        "description": "Invalid OTP"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/vendor/onboarding/business-info": {
            "post": {
                "tags": [
                    "Vendor Onboarding"
                ],
                "summary": "Submit vendor business & KYC information",
                "operationId": "2bedaccfa837b7f850cb2c332ef6f62b",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "gstin": {
                                        "type": "string",
                                        "example": "22AAAAA0000A1Z5"
                                    },
                                    "business_type": {
                                        "type": "string",
                                        "example": "Proprietorship"
                                    },
                                    "business_name": {
                                        "type": "string",
                                        "example": "OOH Media Pvt Ltd"
                                    },
                                    "registered_address": {
                                        "type": "string",
                                        "example": "123 Main Street"
                                    },
                                    "city": {
                                        "type": "string",
                                        "example": "Delhi"
                                    },
                                    "state": {
                                        "type": "string",
                                        "example": "Delhi"
                                    },
                                    "pincode": {
                                        "type": "string",
                                        "example": "110001"
                                    },
                                    "bank_name": {
                                        "type": "string",
                                        "example": "State Bank of India"
                                    },
                                    "account_number": {
                                        "type": "string",
                                        "example": "1234567890"
                                    },
                                    "ifsc_code": {
                                        "type": "string",
                                        "example": "SBIN0001234"
                                    },
                                    "account_holder_name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "pan_number": {
                                        "type": "string",
                                        "example": "ABCDE1234F"
                                    },
                                    "pan_card_document": {
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Business info submitted"
                    },
                    "403": {
                        "description": "Contact verification required"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "sanctum": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "SANCTUM",
                "description": "Enter token as: Bearer {your-token}"
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "Authentication"
        },
        {
            "name": "Vendor Onboarding",
            "description": "Vendor Onboarding"
        }
    ]
}